import{r as u,C as h,d as x,j as e}from"./index-DHriYfiM.js";import{u as p,I as r}from"./Inputs-DI0uDrJi.js";import{c as g,a}from"./index.esm-D1c0mKhQ.js";const b="/improve-E-commerce/assets/undraw_delivery-address_409g-CWtG7wVV.svg";function N(){const{CheckOut:l,cart:t,toastMessage:n,showToast:o,isLoading:i}=u.useContext(h),d=x(),s=p({initialValues:{details:"cairo",phone:"0100000000",city:"egy"},validationSchema:g({details:a().required("Address is required"),phone:a().required("Phone is required"),city:a().required("City is required")}),onSubmit:async c=>{if(!(t!=null&&t.cartId)){console.error("cartId is undefined");return}try{await l(c,t==null?void 0:t.cartId,d)}catch(m){console.error("Failed to checkout:",m)}}});return e.jsx("div",{className:"container-fluid mx-auto px-4 sm:px-6 lg:px-8 bg-[#1A1A1A] text-[#E0E0E0]",children:e.jsxs("div",{className:"min-h-screen flex justify-center items-center",children:[e.jsxs("div",{className:"card lg:card-side bg-[#2A2A2A] shadow-sm w-full max-w-7xl p-10 ",children:[e.jsx("figure",{className:"w-full lg:w-1/2",children:e.jsx("img",{src:b,alt:"Album",className:"w-full h-64 lg:h-auto object-cover"})}),e.jsxs("div",{className:"card-body w-full lg:w-1/2 p-4 sm:p-6 lg:p-8",children:[e.jsx("h2",{className:"card-title text-2xl sm:text-3xl lg:text-4xl",children:"Checkout"}),e.jsx("p",{className:"mt-2 text-sm sm:text-base lg:text-lg",children:"Please enter your details to complete the order."}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(r,{type:"tel",labelName:"Phone",placeholder:"Enter your phone number",name:"phone",value:s.values.phone,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.phone&&s.errors.phone&&e.jsx("p",{className:"text-red-600",children:s.errors.phone})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(r,{type:"text",labelName:"Address",placeholder:"Enter your address",name:"details",value:s.values.details,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.details&&s.errors.details&&e.jsx("p",{className:"text-red-600",children:s.errors.details})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(r,{type:"text",labelName:"City",placeholder:"Enter your city",name:"city",value:s.values.city,onChange:s.handleChange,onBlur:s.handleBlur}),s.touched.city&&s.errors.city&&e.jsx("p",{className:"text-red-600",children:s.errors.city})]}),e.jsx("div",{className:"card-actions justify-end mt-6",children:i?e.jsxs("button",{type:"submit",className:"btn btn-primary btn-sm sm:btn-md bg-[#4A90E2] border-none hover:bg-[#357ABD] text-[#E0E0E0]",disabled:!0,children:[e.jsx("span",{className:"loading loading-spinner"}),"Processing..."]}):e.jsx("button",{onClick:l,type:"submit",className:"btn btn-primary text-sm sm:text-base lg:text-lg bg-[#4A90E2] border-none hover:bg-[#357ABD]",children:"Submit"})})]})]})]}),o&&e.jsx(TostMsg,{message:n})]})})}export{N as default};
